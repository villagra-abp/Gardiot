<div class="container main-container">
  <div class="row">
    <section class="calendar col-lg-5 ">
      <div class="container">
        <div class="title">
          <h6 id="titulo">Tareas</h6>
        </div>
        <div class="body">
          <div *ngIf="checkTareas == true">
            <div *ngIf="tareas.length == 0" class="noTarea" (click)="goGarden()" >No existen tareas, haz click aqui para añadir plantas a tu jardín. </div>
            <div *ngIf="tareas.length != 0">
              <div class="row fila" *ngFor="let grupo of tareas">
                <div class="col-sm-2 fecha">
                  <span class="numero">{{grupo[0].date | date:['d']}}</span>
                  <span class="mes">{{grupo[0].date | date:['LLL']}}</span>
                </div>
                <div class="col">

                  <div class="row tarea rounded" *ngFor="let tarea of grupo">
                    <img *ngIf="tarea.name=='Regar'" src="{{photoURL}}/images/icon/regar.png" class="rounded mx-auto d-block icontarea" alt="Regar">
                    <img *ngIf="tarea.name=='Fertilizar'" src="{{photoURL}}/images/icon/fertilizar.png" class="rounded mx-auto d-block icontarea" alt="Fertilizar">
                    <img *ngIf="tarea.name=='Podar'" src="{{photoURL}}/images/icon/podar.png" class="rounded mx-auto d-block icontarea" alt="Podar">
                    <img *ngIf="tarea.name=='Recolectar'" src="{{photoURL}}/images/icon/cosechar.png" class="rounded mx-auto d-block icontarea" alt="Recolectar">
                    <img *ngIf="tarea.name=='Fumigar'" src="{{photoURL}}/images/icon/fumigar.png" class="rounded mx-auto d-block icontarea" alt="Fumugar">
                    <p class="col-sm-8 text_conejo">{{tarea.commonName}}</p>
                    <!--{{tarea.name}}   -->
                    <button *ngIf="tarea.dateDone==null && (grupo[0].date | date:['d'])==(fecha_actual | date:['d'])" type="button" class="close col-md-1" aria-label="Close" (click)="dotask(tarea)"><i class="material-icons">done</i></button>
                    <i *ngIf="tarea.dateDone!=null && (grupo[0].date | date:['d'])==(fecha_actual | date:['d'])" class="material-icons hecho">thumb_up</i>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <div class="col-lg-7">
      <section class="herramienta row ">
        <article class="form-row">
          <div class="form-group" (click)="goGarden()">
            <canvas title="Tu jardín" id="myCanvas" oncontextmenu="return false;" onmousemove="mouse_move(event, 'detail');" onmousedown="mouse_down(event, 'detail');" onmouseup="mouse_up(event, 'detail');" onmousewheel="scrolling(event, 'detail');" width="350" height="300"></canvas>
          </div>
          <!-- <img src="{{user.photo}}" alt="asd"> -->
        </article>
        <article>
          <section class="row icono">
            <div class="icon">
              <img src="{{photoURL}}/images/imgGardiot/checklist.png" title="% tareas realizadas" class="rounded mx-auto d-block " alt="Logo">
              <p class="texto_dato">{{percentTareas}}%</p>
              <p class="mes">hoy</p>
            </div>
            <div class="icon">
              <img src="{{photoURL}}/images/imgGardiot/flower.png" title="Número de plantas en tu jardín" class="rounded mx-auto d-block icon" alt="Logo">
              <p class="texto_dato">{{plantNumber}} </p>
              <p class="mes">plantas</p>
            </div>
          </section>
          <section class="row icono">
            <div class="icon">
              <img src="{{photoURL}}/images/imgGardiot/temperature.png" class="rounded mx-auto d-block icon" title="Temperatura" alt="Logo">
              <p class="texto_dato">{{temperature | number:'.0-0'}}º</p>
            </div>
            <div class="icon">
              <img src="{{photoURL}}/images/imgGardiot/ubicacion.png" title="Ubicación del jardín" class="rounded mx-auto d-block icon" alt="Logo">
              <p class="texto_dato">{{garden.city}}</p>
            </div>
          </section>
        </article>
      </section>
      <section class="feeds row">
        <div class="title">
          <h6 id="titulo2">Consejos</h6>
        </div>
        <div class="body2">
          <div class="row fila " *ngFor="let feed of feeds">
            <div class="col-sm-1 ">
              <span *ngIf="feed.viewed==0" class="mes">Nuevo</span>
            </div>
            <div class="col">
              <div class="row tarea rounded">
                <p class="col-md-11 title_conejo">{{feed.name}}</p>
                <button *ngIf="feed.viewed==0" type="button" class="close col-md-1" aria-label="Close" (click)="cerrarfeed(feed.id)"><i class="material-icons">visibility</i></button>
                <p class="col-md-12 text_conejo">{{feed.text}}</p>
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>
  </div>
</div>
