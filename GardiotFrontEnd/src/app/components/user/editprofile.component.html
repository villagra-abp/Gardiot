<div class="container main-container">
  <h1>Mi perfil</h1>

<section class="container">
  <div class="row animated fadeIn fast">
    <div class="col-md-12">
      <form  (ngSubmit)="edit()" #forma="ngForm" novalidate="">
        <img src="{{this.imgUrl+user.photo}}" id="photoProfile" alt="Foto de perfil">
        <!--<img id="photoProfile" src="https://haciendofotos.com/wp-content/uploads/las-mejores-fotos-para-el-perfil-whatsapp-wasap-oso-ted.jpg">-->
        <input type="file" (change)="uploadPhoto()" ng2FileSelect [uploader]="uploader" />
        <div class="form-group">
          <label  for="name_user">Nombre: </label>
          <input  type="text" [(ngModel)]="user.name" name="name" id="name_user" required>
        </div>
        <div class="form-group">
          <label  for="lastname_user">Apellidos: </label>
          <input  type="text" [(ngModel)]="user.lastName" name="lastName" id="lastname_user">
        </div>
        <div class="form-group">
          <label  for="name_user">Email: </label>
          <label for="name_user">{{this.user.id}}</label>
        </div>

        <div class="form-group">
          <label  for="birthday_user">Fecha de nacimiento: </label>
          <input  type="date" [(ngModel)]="user.birthDate" name="birthDate" id="birthday_user">
        </div>

        <div class="form-group" ng-init="listarPaises()">
          <label for="countries">País:</label>

            <select2 id="pais" [data]="countryData | async" [value]="startCountry | async" (valueChanged)="this.saveCountry($event)">
            </select2>

           </div>

        <div class="form-group">
            <label for="countries">Introduce tu código postal:</label>
            <input type="text" id="zipCode" (valueChanged)="this.saveCity($event)"/>
        </div>

        <div class="form-group">
            <label for="countries">Ciudad:</label>
            <span id="ciudad"></span>
        </div>

        <!--<div class="form-group">
          <label for="birthDate_user">Fecha de nacimiento: </label>
          <input [(ngModel)]="user.birthDate" type="date" name="birthDate" id="birthDate_user"  >
        </div>-->

        <h3>Cambiar contraseña</h3>
        <div class="form-group">
          <label for="oldPassword_user">Introduce tu contraseña actual</label>
          <input [(ngModel)]="user.oldPassword" type="password" name="oldPassword" id="oldPassword_user" >
        </div>
        <div class="form-group">
          <label for="password_user">Introduce tu nueva contraseña</label>
          <input [(ngModel)]="user.password" type="password" name="password" id="password_user" >
        </div>
        <div class="form-group">
          <label for="password2_user">Repite tu contraseña</label>
          <input [(ngModel)]="user.password2" type="password" name="password2" id="password2_user" >
        </div>





        <button type="submit" class="btn btn-outline-primary">Guardar cambios</button>
        <button [routerLink]="['/profile']" class="btn btn-outline-danger">Cancelar</button>
      </form>
    </div>
  </div>
</section>
</div>



<!-- button to trigger the file upload when submitted -->
<!--<button type="button" class="btn btn-success btn-s" (click)="uploader.uploadAll()" [disabled]="!uploader.getNotUploadedItems().length">
      Upload with ng-2 file uploader
</button>-->
